# WhisperNode —— 语音唤醒 + 指令发布
name: "whisper_node"
version: "1.0.0"

publishers:
  - topic: "voice_command"
    msg_type: "std_msgs/String"
    desc: "发布完整语音指令文本"

service_clients:
  - service: "play_tts"
    srv_type: "piper_msgs/PlayText"
    desc: "提示用户开始说话、反馈已收到指令"

subscriptions:   []
parameters:      []

examples:
  # 1️⃣ 运行节点
  # （假设先启动 piper 语音合成 /play_tts 服务）
  - |
    # 终端-A
    ros2 run piper_voice whisper_node.py

  # 2️⃣ 监听发布的指令
  - |
    # 终端-B
    ros2 topic echo /voice_command

  # 3️⃣ （可选）手动调用 TTS 服务，模拟 WhisperNode 的提示
  - |
    ros2 service call /play_tts piper_msgs/srv/PlayText \
      '{text: "请对我说话", sync: false}'
